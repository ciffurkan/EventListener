<!DOCTYPE html>
<html>

<head>
    <title>Es JS</title>
    <style>
        #divHover {
            background-color: black;
            display: inline;
            padding: 15px;
        }

        #divHover span {
            color: white;
        }

        .hoverDiv {
            background-color: yellow !important;
        }

        .hoverSpan {
            color: green !important;
        }

        .blu {
            background-color: blue;
        }

        .focus {
            border: 5px solid blue;
        }

        table {
            border-collapse: collapse;
            width: 30%;
            margin: 20px auto;
        }

        td {
            border: 1px solid black;
            width: 50px;
            height: 50px;
            text-align: center;
            vertical-align: middle;
        }

        .quadratino {
            background-color: red;
        }
    </style>
</head>

<body>
    <h1>Esercizi sugli eventi</h1>
    <button id="doppioclick">clicca o fai doppio click</button>
    <div id="divHover">
        <span id="spanHover">Passa Sopra col mouse</span>
    </div>
    <input type="text" id="colore">
    <select id="h1color">
        <option value="nero">Nero</option>
        <option value="blu">Blu</option>
        <option value="rosso">Rosso</option>
        <option value="giallo">Giallo</option>
        <option value="verde">Verde</option>
    </select>
    <input type="text" required id="obbligatorio">
    <p id="allert"></p>

    <table>
        <tr>
            <td class="quadratino"></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <script>
        document.getElementById("doppioclick").addEventListener("dblclick", DoppioClick)
        document.getElementById("divHover").addEventListener("mouseover", Hover)
        document.getElementById("divHover").addEventListener("mouseout", RemoveHover)
        document.getElementById("colore").addEventListener("keyup", CambiaColore)
        document.getElementById("h1color").addEventListener("change", CambiaH1)
        document.getElementById("obbligatorio").addEventListener("input", ValoreObbligatorio)
        document.getElementById("obbligatorio").addEventListener("focus", Focus)
        document.getElementsByTagName("html").item(0).addEventListener("keyup", Movimento)

        function DoppioClick() {
            alert("Doppio Click")
        }

        function Hover() {
            document.getElementById("divHover").classList.add("hoverDiv");
            document.getElementById("spanHover").classList.add("hoverSpan");
        }

        function RemoveHover() {
            document.getElementById("divHover").classList.remove("hoverDiv");
            document.getElementById("spanHover").classList.remove("hoverSpan");
        }

        function CambiaColore() {
            let parola = document.getElementById("colore").value;
            let x = document.getElementsByTagName("body");
            if (parola == "blu") {
                x.item(0).classList.add("blu");
            } else {
                x.item(0).classList.remove("blu");
            }
        }

        function CambiaH1() {
            let parola = document.getElementById("h1color").value;
            let x = document.getElementsByTagName("h1");
            if (parola == "nero") {
                x.item(0).style.color = "black";
            } else if (parola == "blu") {
                x.item(0).style.color = "blue";
            } else if (parola == "rosso") {
                x.item(0).style.color = "red";
            } else if (parola == "giallo") {
                x.item(0).style.color = "yellow";
            } else if (parola == "verde") {
                x.item(0).style.color = "green";
            }
        }

        function ValoreObbligatorio() {
            let x = document.getElementById("obbligatorio").value;
            if (x == "") {
                document.getElementById("allert").innerHTML = "Campo Obbligatorio";
                document.getElementById("allert").style.color = "red";
            } else {
                document.getElementById("allert").innerHTML = "";
            }
        }

        function Focus() {
            document.getElementById("obbligatorio").classList.add("focus");
            document.getElementById("obbligatorio").addEventListener("blur", function () {
                document.getElementById("obbligatorio").classList.remove("focus");
            });
        }

        function Movimento(e) {
            let td = document.getElementsByTagName("td");
            let i;
            for (i = 0; i < td.length; i++) {
                if (td[i].classList.contains("quadratino")) {
                    break;
                }
            }
            if (e.key === "ArrowUp" && i>8) {
                td.item(i).classList.remove("quadratino");
                td.item(i-9).classList.add("quadratino");
            }
            else if (e.key === "ArrowDown" && i < 71) {
                td.item(i).classList.remove("quadratino");
                td.item(i+9).classList.add("quadratino");
            }
            else if (e.key === "ArrowLeft" && i != 0 && i != 9 && i != 18 && i != 27 && i != 36 && i != 45 && i != 54 && i != 63 && i != 72) {
                td.item(i).classList.remove("quadratino");
                td.item(i-1).classList.add("quadratino");
            } else if (e.key === "ArrowRight" && i != 8 && i != 17 && i != 26 && i != 35 && i != 44 && i != 53 && i != 62 && i !=71 && i != 80) {
                td.item(i).classList.remove("quadratino");
                td.item(i+1).classList.add("quadratino");
            }
        }


    </script>
</body>

</html>
